#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>
#include <regex.h>
#include "engine.h"
#include "log.h"
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <unistd.h>
#include <string.h>

uint32_t get_start_index(char* filedata){

    regex_t function_pattern;
    regmatch_t pmatch[1];



    return 0;
}

uint32_t getfilesize(int file_descriptor){
    int fsize;
    fsize = lseek(file_descriptor, 0, SEEK_END);
    lseek(file_descriptor, 0, SEEK_SET);
    return fsize;
}

uint32_t analyze(char* filename){

    int ret;
    uint32_t filesize;


    ret = open(filename, O_RDONLY);

    if(ret < 0){
        write(1, "Error, could not write file\n", 28);
        return -1;
    }

    filesize = getfilesize(ret);

    char file_buffer[filesize+1];

    memset(file_buffer, 0, filesize+1);


    read(ret, file_buffer, filesize);


    return 0;

}



int main(int argc, char const *argv[])
{
    
    return 0;
}
